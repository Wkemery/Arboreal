<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Arboreal: CLI Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Arboreal
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classCLI-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CLI Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0c3b5662a3f33b5a76021be177c3eef2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCLI.html#a0c3b5662a3f33b5a76021be177c3eef2">CLI</a> (char **partition)</td></tr>
<tr class="separator:a0c3b5662a3f33b5a76021be177c3eef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeafaa56f2b2d8c97121ed52125e3fa9a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCLI.html#aeafaa56f2b2d8c97121ed52125e3fa9a">CLI</a> (char **partition, bool debug)</td></tr>
<tr class="separator:aeafaa56f2b2d8c97121ed52125e3fa9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eb5e9a1c695edf4dcc705b9c12a0a8d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCLI.html#a4eb5e9a1c695edf4dcc705b9c12a0a8d">CLI</a> (char **partition, char *isScript)</td></tr>
<tr class="separator:a4eb5e9a1c695edf4dcc705b9c12a0a8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d9746160fc642addd9b4aff6cc4eef2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCLI.html#a5d9746160fc642addd9b4aff6cc4eef2">CLI</a> (char **partition, char *isScript, bool debug)</td></tr>
<tr class="separator:a5d9746160fc642addd9b4aff6cc4eef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f59d57abf434f7161fcf3f61b725752"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCLI.html#a9f59d57abf434f7161fcf3f61b725752">~CLI</a> ()</td></tr>
<tr class="separator:a9f59d57abf434f7161fcf3f61b725752"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1492005f186392031bd4d447cb20e975"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCLI.html#a1492005f186392031bd4d447cb20e975">start</a> ()</td></tr>
<tr class="separator:a1492005f186392031bd4d447cb20e975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ce3ce0818fc0afe2a277995000ea22b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCLI.html#a5ce3ce0818fc0afe2a277995000ea22b">run</a> (std::string input)</td></tr>
<tr class="separator:a5ce3ce0818fc0afe2a277995000ea22b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeefc8cd81999836a90c2cfaced6177f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCLI.html#aeefc8cd81999836a90c2cfaced6177f1">run</a> ()</td></tr>
<tr class="separator:aeefc8cd81999836a90c2cfaced6177f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c3f97b04646b070ad82801adf0dc521"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCLI.html#a6c3f97b04646b070ad82801adf0dc521">build</a> (const int id, const std::string input)</td></tr>
<tr class="separator:a6c3f97b04646b070ad82801adf0dc521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d25fcb18cf42e03a7e38c24a8ba1506"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCLI.html#a1d25fcb18cf42e03a7e38c24a8ba1506">send_cmnd</a> (const char *command)</td></tr>
<tr class="separator:a1d25fcb18cf42e03a7e38c24a8ba1506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87c68e5edcb5750d1199839e6b1f843e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCLI.html#a87c68e5edcb5750d1199839e6b1f843e">await_response</a> ()</td></tr>
<tr class="memdesc:a87c68e5edcb5750d1199839e6b1f843e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Block while waiting for response from filesystem.  <a href="#a87c68e5edcb5750d1199839e6b1f843e">More...</a><br /></td></tr>
<tr class="separator:a87c68e5edcb5750d1199839e6b1f843e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0c3b5662a3f33b5a76021be177c3eef2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c3b5662a3f33b5a76021be177c3eef2">&#9670;&nbsp;</a></span>CLI() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CLI::CLI </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>partition</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">partition</td><td>A pointer to a charachter array containing the partition name that this particular command line interface will operate in</td></tr>
  </table>
  </dd>
</dl>
<p>Constructor for use in Mode 1 of the Command Line Interface Reads from explicit user input Does NOT print debug data to log </p>

</div>
</div>
<a id="aeafaa56f2b2d8c97121ed52125e3fa9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeafaa56f2b2d8c97121ed52125e3fa9a">&#9670;&nbsp;</a></span>CLI() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CLI::CLI </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>partition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">partition</td><td>A pointer to a charachter array containing the partition name that this particular command line interface will operate in</td></tr>
    <tr><td class="paramname">debug</td><td>Wether or not debug messages should be turned on for this interface</td></tr>
  </table>
  </dd>
</dl>
<p>Constructor for use in Mode 2 of the Command Line Interface Reads from explicit user input Does PRINTS DEBUG data to log </p>

</div>
</div>
<a id="a4eb5e9a1c695edf4dcc705b9c12a0a8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4eb5e9a1c695edf4dcc705b9c12a0a8d">&#9670;&nbsp;</a></span>CLI() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CLI::CLI </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>partition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>isScript</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">partition</td><td>A pointer to a charachter array containing the partition name that this particular command line interface will operate in</td></tr>
    <tr><td class="paramname">isScript</td><td>Flag telling whether or not the input for this interface will be coming from a file (The flag value is '-s')</td></tr>
  </table>
  </dd>
</dl>
<p>Constructor for use in Mode 3 of the Command Line Interface Reads from file Does NOT print debug data to log </p>

</div>
</div>
<a id="a5d9746160fc642addd9b4aff6cc4eef2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d9746160fc642addd9b4aff6cc4eef2">&#9670;&nbsp;</a></span>CLI() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CLI::CLI </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>partition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>isScript</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>debug</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">partition</td><td>A pointer to a charachter array containing the partition name that this particular command line interface will operate in</td></tr>
    <tr><td class="paramname">debug</td><td>Wether or not debug messages should be turned on for this interface</td></tr>
    <tr><td class="paramname">isScript</td><td>Flag telling whether or not the input for this interface will be coming from a file (The flag value is '-s')</td></tr>
  </table>
  </dd>
</dl>
<p>Constructor for use in Mode 3 of the Command Line Interface Reads from file Does PRINTS DEBUG data to log </p>

</div>
</div>
<a id="a9f59d57abf434f7161fcf3f61b725752"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f59d57abf434f7161fcf3f61b725752">&#9670;&nbsp;</a></span>~CLI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CLI::~CLI </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Default Destructor </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a87c68e5edcb5750d1199839e6b1f843e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87c68e5edcb5750d1199839e6b1f843e">&#9670;&nbsp;</a></span>await_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CLI::await_response </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Block while waiting for response from filesystem. </p>
<p>Receive data from the liaison process The data is X number of charachters The data can be anything from a list of files returned by the 'find' operation To an error message. This function blocks until it receives data.</p>
<p>Most filesystem commands operate on a 1:1 ratio, that is, sending one command will generate one response. However, some commands (most notably 'find' &amp; 'read') may have a ratio of 1:Many (For example 'find -t [tag1]' may return any number of files but it is only a single command). In situations such as these it is necssary to tell the Command Line to wait until the filesystem has sent all data. Thus, if the Command Line receives "WAIT" it will know to continue to block on a call to receive until the Liaison has gathered all of the nescessary data. However this is still not enough and it is also nescessary to tell the Command Line how much data it must read, for this reason, the first piece of data that the Liaison will send, will be the number of bytes the Command Line needs to read. After this value is received the actual data is sent. </p>

</div>
</div>
<a id="a6c3f97b04646b070ad82801adf0dc521"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c3f97b04646b070ad82801adf0dc521">&#9670;&nbsp;</a></span>build()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * CLI::build </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts a std::string to a C-Style String, embeds the command id into the C-String, and pads it to length = MaxBufferSize</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td><a class="el" href="classFile.html">File</a> System Command ID</td></tr>
    <tr><td class="paramname">input</td><td><a class="el" href="classFile.html">File</a> System Command</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A C-Style String of length = MaxBufferSize containing the command ID in the first X Bytes where X is the size of an integer type followed by the command itself followed by as many nullbytes as nescesarry in order to have a length = MaxBufferSize</dd></dl>
<p>Format user input for use by Liaison process:</p>
<p>1) Prepend a byte representation of the command ID to the array 2) Copy the user input into the the array (skip the first X indecies were X is the size of an integer (we don't want to overwrite the command ID))</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Comand ID </td></tr>
    <tr><td class="paramname">input</td><td>User input string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to a charachter array </dd></dl>

</div>
</div>
<a id="a5ce3ce0818fc0afe2a277995000ea22b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ce3ce0818fc0afe2a277995000ea22b">&#9670;&nbsp;</a></span>run() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CLI::run </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function operates the same as <a class="el" href="classCLI.html#aeefc8cd81999836a90c2cfaced6177f1">run()</a> but takes its input from a filestream rather than a user. Reads in the input data (A <a class="el" href="classFile.html">File</a> System Command) and sends it down to the file system. <br />
Some commands that do not need to interact with the <a class="el" href="classFile.html">File</a> System code are handled in this function. For example, displaying the 'help' messages is executed from this function since the <a class="el" href="classFile.html">File</a> System does not have or need and 'help' command. This function will block until it receives a response from the <a class="el" href="classFile.html">File</a> System (provided that the command inputted is intended to go to the <a class="el" href="classFile.html">File</a> System) this function will continue reading from the input file until an error occurs or 'end' is read in.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>A std::string value representing a <a class="el" href="classFile.html">File</a> System command. This value is generally handed to the function by reading an input file. But may also be sent to it from another process such as a UI </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aeefc8cd81999836a90c2cfaced6177f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeefc8cd81999836a90c2cfaced6177f1">&#9670;&nbsp;</a></span>run() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CLI::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads in the input data (A <a class="el" href="classFile.html">File</a> System Command) and sends it down to the file system. <br />
Some commands that do not need to interact with the <a class="el" href="classFile.html">File</a> System code are handled in this function. For example, displaying the 'help' messages is executed from this function since the <a class="el" href="classFile.html">File</a> System does not have or need and 'help' command. This function will block until it receives a response from the <a class="el" href="classFile.html">File</a> System (provided that the command inputted is intended to go to the <a class="el" href="classFile.html">File</a> System) this function will continue reading from user input until an error occurs or the user quits the application.</p>
<p>Reads input from user and sends it to the Liaison Process. Waits for corresponding data from the <a class="el" href="classFile.html">File</a> System. </p>

</div>
</div>
<a id="a1d25fcb18cf42e03a7e38c24a8ba1506"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d25fcb18cf42e03a7e38c24a8ba1506">&#9670;&nbsp;</a></span>send_cmnd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CLI::send_cmnd </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmnd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sends a command converted to a C-Style String to the Liaison Process for parsing and execution.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td>A C-Style String of length = MaxBufferSize containing the command ID in the first X Bytes where X is the size of an integer type followed by the command itself followed by as many nullbytes as nescesarry in order to have a length = MaxBufferSize</td></tr>
  </table>
  </dd>
</dl>
<p>Send user input (A filesystem command) to the Liaison Process </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmnd</td><td>The input to send </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1492005f186392031bd4d447cb20e975"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1492005f186392031bd4d447cb20e975">&#9670;&nbsp;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CLI::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs initial set-up activities such as initiating connections and sending handshakes. Upon the completion of a successful handshake, <a class="el" href="classCLI.html#aeefc8cd81999836a90c2cfaced6177f1">run()</a> is called and the interface is ready to use. If the handshake was not successful, the interface notifies the user and quits.</p>
<p>Run initial Command Line Interface setup operations:</p>
<p>1) Generate Shared Memory Segment For Process Synchronization 2) Fork And Run A Liaison Process 3) Create Sockets For Connection To Liaison 4) Send Handshake Command To <a class="el" href="classFile.html">File</a> System 5) Run The Command Line </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>CommandLineInterface/CLHeaders/<a class="el" href="Cli_8h_source.html">Cli.h</a></li>
<li>CommandLineInterface/Cli.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
