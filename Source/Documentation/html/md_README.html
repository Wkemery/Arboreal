<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Arboreal: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Arboreal
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is a file for specific code notes. things to do, consider, etc, that doesn't need to clutter up the main readme file.</p>
<p><b>Doing TRY-CATCH</b></p>
<p><b>tageSearch() returns a vector of structs with (string "filename", int fidentifier) [fidentifier can be FIONODE blknum or unique file identifier that is mapped to a FIONDE blknum]</b> <b>Hand off storage of file tagSearch() return vector to Danny to be stored in a "current" buffer or smoe such</b>/</p>
<p>There should probably be an attributes object to make our lives easier. and thats what real filesystems do. <b><a class="el" href="classAttributes.html">Attributes</a> object should be stored in FINODE or another indirect block who's reference is stored in the FINODE. Which one is used should be decided dynamically, if FIONDE is full get empty data block, store address in FIONDE (migrate data)[optional] to new block, add new data to new block, otherwise add data directly to FIONDE. TAGS ARE ATTRIBUTES</b></p>
<p>I think we may need two open functions. One that takes the unique file id,(block number) and one that takes the vector of tags and the file name . similar to a path. <b>YES</b></p>
<p><em>I removed validName() because we should check for valid input before passing it to our filesystem. as much as possible anyway.</em></p>
<p>I think we'll be able to get rid of alot of the helper functions actually. because map will be able to do all that for us. the <b>big helper functions will be reading in a map and writing out a map</b>. which i think we can just basically write out all the key, value pairs, because a map can do that easily with its iterator. <b>for reading in, we'll just read in all the key value pairs and add them to the map one by one.</b> <b>Name Length HARD CAPS at size specified in partition info during formatting</b> <b>NEED TREE INODE</b> <b>READING A MAP FROM DISK TO MAIN MEMORY</b> **---------------------------------------&mdash;**</p>
<p><b>so we'll have to have a reserved spot at the end of a block for a block number to the next block of continuing data.</b></p>
<p><b>We should write everything out in plaintext and have a converter that can change it to byte stuff that we can implement later. also we should have a flag that will zero out blocks (FOR SPEED), mainly for debugging. but can also repourpose to an encrypt flag later.</b></p>
<p>//LATER: we should try not to write out the whole tag tree everytime. instead we should only write out the parts that changed if we can. I know this is a tough solution, if a tag is deleted in the middle of the tree and we really have no way of knowing where stuff will be in the tree... but it might be possible to keep some sort of secondary data structure, like a vector with all the info because it doens't matter what order we reconstruct the map in memory, just that all the data is there. this is also somehting we can implement later. <b>INtermeidary Data structure will store, (in addition to Memory pointer, block pointer) a tuple (int blknum, int pos_in_blknum) of the key_value pair so we can use it later for delete operations.</b></p>
<p>** A NOTE about speed: right now, in order to do tag search, we have to read in the finode of each file in the smallest tag tree becuase I am not storing the number of tags associated with a file in the tag tree inodes. This can be changed later, but for now I just want to get it done. If, when we are testing speeds this is something that will surely improve speed.</p>
<p>** Estimated read in time for everything on startup: O(n^2*log(n))</p>
<p>** FileInode structure filename - filenameSize Finode struct = sizeof(finode struct) local tag storage = rest of the space possible tag cont. block = sizeof(blknumType)</p>
<p>**Restrictions:</p><ol type="1">
<li>filename size restricted to no more than 1/2 block size</li>
<li>block size should be a power of 2</li>
<li>Hard cap on the number of tags that can be associated with a file. = (((blocksize - filenamesize - 136) / sizeof(BlkNumType)) + (blocksize / sizeof(BlkNumType)). 103 tags for blocksize of 512. and 64b filename</li>
<li>max block size = 16k</li>
</ol>
<p><b>TODO:</b></p><ol type="1">
<li>Incorporate storing number of tags associated with file in Tag tree on disk, not yet</li>
<li>add renameTag function</li>
<li>don't allow duplicate tags to be sent to the filesystem when sending a tagset of any kind </li>
</ol>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
